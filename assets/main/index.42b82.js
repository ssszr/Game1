window.__require=function t(e,i,n){function c(o,a){if(!i[o]){if(!e[o]){var r=o.split("/");if(r=r[r.length-1],!e[r]){var h="function"==typeof __require&&__require;if(!a&&h)return h(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+o+"'")}o=r}var d=i[o]={exports:{}};e[o][0].call(d.exports,function(t){return c(e[o][1][t]||t)},d,d.exports,t,e,i,n)}return i[o].exports}for(var s="function"==typeof __require&&__require,o=0;o<n.length;o++)c(n[o]);return c}({CardSet:[function(t,e){"use strict";cc._RF.push(e,"c712cW8/nNHLoTjIdqTsVqQ","CardSet"),cc.Class({extends:cc.Component,properties:{cardPrefab:cc.Prefab,defaultPic:cc.SpriteFrame,pics:[cc.SpriteFrame]},onLoad:function(){this.currentLevel=0,this.Levels=[],this.Levels.push(["\u7b2c\u4e00\u5173",4,2]),this.Levels.push(["\u7b2c\u4e8c\u5173",4,3]),this.Levels.push(["\u7b2c\u4e09\u5173",4,3]),this.layout=this.node.getComponent(cc.Layout),this.totalCnt=0},start:function(){},Begin:function(){this.NewGame(this.Levels[this.currentLevel])},NextLevel:function(){var t=this;this.totalCnt+=this.cnt,this.currentLevel+1===this.Levels.length?this.Finish():(cc.find("Canvas/Finish").active=!0,this.schedule(function(){t.currentLevel++,t.NewGame(t.Levels[t.currentLevel])},3,0))},Finish:function(){cc.find("Canvas/Finish/label").getComponent(cc.Label).string="\u606d\u559c\u4f60\u5df2\u7ecf\u5b8c\u6210\u4e86\u5168\u90e8\u7684\u5173\u5361\uff01\n\u60a8\u7684\u603b\u6b65\u9aa4\u4e3a"+this.totalCnt,cc.find("Canvas/Finish").active=!0},NewGame:function(t){var e=t[0],i=t[1],n=t[2];this.cc=[],this.cnt=0,this.correct_cnt=0,this.need_cnt=i*n/2,this.cardRealSize=[],this.lock=0,cc.find("Canvas/Target").getComponent(cc.Label).string=this.correct_cnt+"/"+this.need_cnt,cc.find("Canvas/Finish").active=!1,cc.find("Canvas/Cnt").getComponent(cc.Label).string="\u6b65\u9aa4\u6570\uff1a"+this.cnt,cc.find("Canvas/level").getComponent(cc.Label).string=e,this.node.children.forEach(function(t){return t.destroy()}),this.LayoutDesign(this.layout,i,n,817,1108,.9,.9);for(var c=0;c<2*this.need_cnt;c++){var s=cc.instantiate(this.cardPrefab);s.width=this.cardRealSize[0],s.height=this.cardRealSize[1],s.parent=this.node;var o=s.getComponent("Card");o.setFrame(this.defaultPic),o.name="card"+c,o.pic=this.pics[c],o.info=[Math.trunc(c/2),1&c],o.cardSet=this}var a=this.node.children;a=function(t){for(var e=0;e<t.length;e++){var i=Math.round(Math.random()*(t.length-1-e))+e,n=[t[i],t[e]];t[e]=n[0],t[i]=n[1]}return t}(a)},Listener:function(t){var e=this;if(this.cc.push(t),2===this.cc.length){this.cnt++,cc.find("Canvas/Cnt").getComponent(cc.Label).string="\u6b65\u9aa4\u6570\uff1a"+this.cnt;var i=this.cc[0],n=this.cc[1];if(i.info[0]===n.info[0]){if(i.info[1]+n.info[1]!==1)return this.cc.pop(),void console.log("\u540c\u4e00");this.schedule(function(){e.cardRemove(i),e.cardRemove(n),console.log("\u5220\u9664"),e.correct_cnt+=1,cc.find("Canvas/Target").getComponent(cc.Label).string=e.correct_cnt+"/"+e.need_cnt,e.correct_cnt===e.need_cnt&&e.NextLevel()},0,0)}else this.lock=1,console.log("\u9501\u5b9a\uff01"),this.schedule(function(){i.setFrame(e.defaultPic),n.setFrame(e.defaultPic),e.lock=0,console.log("\u89e3\u9501")},1,0),console.log("\u9519\u8bef");this.cc=[]}},cardRemove:function(t){this.schedule(function(){t.node.opacity<10?t.node.opacity=0:t.node.opacity-=10},.03,30),t.isGone=!0},LayoutDesign:function(t,e,i,n,c,s,o){if(this.picSizeX=n,this.picSizeY=c,this.picScale=this.picSizeX/this.picSizeY,this.containerX=this.node.width,this.containerY=this.node.height,this.containerScale=this.containerX/this.containerY,this.cardSetSizeX=this.picSizeX*i,this.cardSetSizeY=this.picSizeY*e,this.cardSetScale=this.cardSetSizeX/this.cardSetSizeY,this.containerScale>this.cardSetScale){var a=this.containerY*s/e,r=a*this.picScale;this.cardRealSize=[r,a]}else{var h=this.containerX*o/i,d=h/this.picScale;this.cardRealSize=[h,d]}t.spacingX=(this.containerX-i*this.cardRealSize[0])/(i-1)-1,t.spacingY=(this.containerY-e*this.cardRealSize[1])/(e-1)-1}}),cc._RF.pop()},{}],Card:[function(t,e){"use strict";cc._RF.push(e,"bbf55hku3hNRJqVocxsjNcZ","Card"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.info=[NaN,NaN],this.cardSet=null,this.pic=null,this.isGone=!1},start:function(){this.node.on(cc.Node.EventType.TOUCH_END,this.CallBack,this)},CallBack:function(){this.isGone||1!==this.cardSet.lock&&(this.setFrame(this.pic),this.print(),this.cardSet.Listener(this))},setFrame:function(t){this.node.getComponent(cc.Sprite).spriteFrame=t},print:function(){console.log(this.info)}}),cc._RF.pop()},{}],Frame:[function(t,e){"use strict";cc._RF.push(e,"55137KhmmpAwLxNb+lHaWHV","Frame"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){var t=this.node.parent;this.node.width=t.width,this.node.height=t.height}}),cc._RF.pop()},{}],Introduction:[function(t,e){"use strict";cc._RF.push(e,"b3c97D4TPFDUbgZ4mfM5hYx","Introduction"),cc.Class({extends:cc.Component,properties:{},start:function(){cc.find("Canvas/Finish").active=!1,this.node.on(cc.Node.EventType.TOUCH_START,function(){cc.find("Canvas/Introduction").active=!1,cc.find("Canvas/IntroBG").active=!1,cc.find("Canvas/CardSet").getComponent("CardSet").Begin()},this)}}),cc._RF.pop()},{}]},{},["Card","CardSet","Frame","Introduction"]);